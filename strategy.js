'use strict';const a10_0x452afa=a10_0x3238;(function(_0x4aa289,_0x54ac0e){const _0x32bb4e=a10_0x3238,_0x4f196e=_0x4aa289();while(!![]){try{const _0x4ca93d=parseInt(_0x32bb4e(0x1d5))/0x1+-parseInt(_0x32bb4e(0x1cb))/0x2*(-parseInt(_0x32bb4e(0x1c9))/0x3)+parseInt(_0x32bb4e(0x1d1))/0x4+parseInt(_0x32bb4e(0x1ce))/0x5+parseInt(_0x32bb4e(0x1b4))/0x6+-parseInt(_0x32bb4e(0x1b5))/0x7*(parseInt(_0x32bb4e(0x1cc))/0x8)+-parseInt(_0x32bb4e(0x1c2))/0x9;if(_0x4ca93d===_0x54ac0e)break;else _0x4f196e['push'](_0x4f196e['shift']());}catch(_0x2f3483){_0x4f196e['push'](_0x4f196e['shift']());}}}(a10_0x88f8,0x49415));Object[a10_0x452afa(0x1c4)](exports,a10_0x452afa(0x1d6),{'value':!![]}),exports[a10_0x452afa(0x1d7)]=void 0x0;const passport_strategy_1=require(a10_0x452afa(0x1c7)),factory_1=require(a10_0x452afa(0x1c3)),assert_1=require('assert'),constants_1=require(a10_0x452afa(0x1d8));class CryptoStrategy extends passport_strategy_1[a10_0x452afa(0x1d7)]{constructor(_0x9519d0){const _0x7339c8=a10_0x452afa;super(),this[_0x7339c8(0x1b9)]='crypto',this['cryptoAuthFactory']=new factory_1[(_0x7339c8(0x1b6))](),this['baseCryptoAuth']=this['cryptoAuthFactory'][_0x7339c8(0x1be)](),this[_0x7339c8(0x1bb)]=_0x9519d0['challengeField']||_0x7339c8(0x1d3),this[_0x7339c8(0x1d4)]=_0x9519d0[_0x7339c8(0x1d4)]||'response';}async['getChallenge'](_0x110b70){const _0x580e3e=a10_0x452afa;return this[_0x580e3e(0x1cf)][_0x580e3e(0x1d9)](_0x110b70['headers']['x-address']);}async[a10_0x452afa(0x1c1)](_0x2dbe3a,_0x43ef6a){const _0x45d2de=a10_0x452afa;(0x0,assert_1['default'])(Object['keys'](constants_1[_0x45d2de(0x1d2)])[_0x45d2de(0x1cd)](_0x43ef6a[_0x45d2de(0x1ba)]),_0x45d2de(0x1c0));const _0x433104=this[_0x45d2de(0x1bf)]['walletVerifier'](_0x43ef6a[_0x45d2de(0x1ba)]),_0x42f120=await _0x433104[_0x45d2de(0x1c1)](_0x43ef6a);return{'status':_0x42f120[_0x45d2de(0x1c6)],'user':_0x42f120[_0x45d2de(0x1c6)]?{'address':_0x42f120['address']}:undefined};}[a10_0x452afa(0x1bc)](_0x16bc73){const _0x3d632a=a10_0x452afa;try{const _0x424f09=_0x16bc73[_0x3d632a(0x1b8)]||{},_0x198d6f=_0x424f09[this['responseField']];if(!_0x198d6f||typeof _0x198d6f!=='object')return this[_0x3d632a(0x1d0)](_0x16bc73)['then'](_0x15742d=>{const _0xf0909f=_0x3d632a;return this[_0xf0909f(0x1ca)]({'challenge':_0x15742d},0x191);});return this['verifyResponse'](_0x16bc73,_0x198d6f)[_0x3d632a(0x1c5)](({user:_0x1332f9,status:_0x4fba66})=>{const _0x293fa1=_0x3d632a;if(!_0x4fba66||!_0x1332f9)return this['success'](_0x1332f9);return this['fail'](_0x293fa1(0x1b7),0x191);});}catch(_0x359454){this[_0x3d632a(0x1c8)](_0x359454);}}}function a10_0x88f8(){const _0x12e60c=['__esModule','Strategy','./crypto/constants','generateChallenge','3186330cuZdxr','273IfMyvp','CryptoAuthFactory','Invalid\x20credentials','body','name','walletType','challengeField','authenticate','default','getBaseCryptoAuth','cryptoAuthFactory','Invalid\x20wallet\x20type','verifyResponse','9356256plvyjB','./crypto/factory','defineProperty','then','status','passport-strategy','error','15tlbmKM','fail','133082fthreD','108232fhtmaW','includes','2969910STMZaZ','baseCryptoAuth','getChallenge','788448EedmAI','WalletType','challenge','responseField','212414owmKfk'];a10_0x88f8=function(){return _0x12e60c;};return a10_0x88f8();}function a10_0x3238(_0x348930,_0x46ba44){const _0x88f8f3=a10_0x88f8();return a10_0x3238=function(_0x323891,_0x429ade){_0x323891=_0x323891-0x1b4;let _0xb69815=_0x88f8f3[_0x323891];return _0xb69815;},a10_0x3238(_0x348930,_0x46ba44);}exports['Strategy']=CryptoStrategy,exports[a10_0x452afa(0x1bd)]=CryptoStrategy;